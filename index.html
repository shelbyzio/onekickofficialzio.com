<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONE KICK : Predictz BOT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pyidaungsu&display=swap');
        body {
            font-family: 'Pyidaungsu', sans-serif;
            background-color: #1a1a1a; /* Dark background */
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-md mx-auto bg-[#121212] rounded-xl shadow-2xl overflow-hidden md:max-w-2xl p-6 border border-red-900">
        <!-- Logo/Title Section -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-black text-red-600 tracking-tighter">ONE KICK</h1>
            <p class="text-white text-sm font-bold tracking-[0.2em] uppercase">Predictz BOT</p>
            <div class="h-1 w-20 bg-red-600 mx-auto mt-2"></div>
        </div>
        
        <div class="space-y-4">
            <!-- Team Names -->
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-xs font-bold text-gray-400 uppercase mb-1">အိမ်ကွင်းအသင်း</label>
                    <input type="text" id="homeTeam" placeholder="Home Team" class="mt-1 block w-full bg-black border border-gray-800 text-white rounded-md shadow-sm p-2.5 focus:ring-red-600 focus:border-red-600 outline-none">
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-400 uppercase mb-1">အဝေးကွင်းအသင်း</label>
                    <input type="text" id="awayTeam" placeholder="Away Team" class="mt-1 block w-full bg-black border border-gray-800 text-white rounded-md shadow-sm p-2.5 focus:ring-red-600 focus:border-red-600 outline-none">
                </div>
            </div>

            <!-- Favorite Team Select -->
            <div>
                <label class="block text-xs font-bold text-gray-400 uppercase mb-1">ကြေးပေးထားသည့်အသင်း</label>
                <select id="favTeam" class="mt-1 block w-full bg-black border border-gray-800 text-white rounded-md shadow-sm p-2.5 focus:ring-red-600 focus:border-red-600 outline-none">
                    <option value="">အသင်းရွေးချယ်ပါ</option>
                    <option value="home">အိမ်ကွင်း</option>
                    <option value="away">အဝေးကွင်း</option>
                </select>
            </div>

            <!-- Inputs -->
            <div>
                <label class="block text-xs font-bold text-gray-400 uppercase mb-1">Asian Handicap (ဥပမာ: 1-10, -20)</label>
                <input type="text" id="hdpInput" placeholder="HDP..." class="mt-1 block w-full bg-black border border-gray-800 text-white rounded-md shadow-sm p-2.5 focus:ring-red-600 focus:border-red-600 outline-none uppercase">
            </div>

            <div>
                <label class="block text-xs font-bold text-gray-400 uppercase mb-1">Asian Total (ဥပမာ: 3+20, 2-80)</label>
                <input type="text" id="totalInput" placeholder="TOTAL..." class="mt-1 block w-full bg-black border border-gray-800 text-white rounded-md shadow-sm p-2.5 focus:ring-red-600 focus:border-red-600 outline-none uppercase">
            </div>

            <!-- Predict Button -->
            <button onclick="predictMatch()" class="w-full bg-red-700 text-white font-black py-4 px-4 rounded-lg hover:bg-red-600 transition duration-200 uppercase tracking-widest shadow-lg shadow-red-900/20">
                Predict Now
            </button>

            <!-- Telegram Join Button (Changed to Blue) -->
            <a href="https://t.me/onekick_ofc" target="_blank" class="w-full border-2 border-[#0088cc] text-[#0088cc] font-bold py-3 px-4 rounded-lg hover:bg-[#0088cc] hover:text-white transition duration-200 flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .33z"/></svg>
                Telegram Join ရန်
            </a>

            <!-- Result Area -->
            <div id="resultBox" class="mt-6 hidden p-5 rounded-lg border">
                <h2 id="resultTitle" class="font-bold text-xl mb-2"></h2>
                <p id="resultContent" class="text-white text-lg font-bold"></p>
                <p id="resultWarning" class="mt-3 text-red-400 font-medium italic text-sm leading-relaxed"></p>
            </div>
        </div>
    </div>

    <!-- Firebase Integration -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD5-o9cN6XQoLSB8gzCAyewju5utqLAr10",
            authDomain: "one-kick-official.firebaseapp.com",
            projectId: "one-kick-official",
            storageBucket: "one-kick-official.firebasestorage.app",
            messagingSenderId: "10860561236",
            appId: "1:10860561236:web:3b036438ce9c84cb2c7ec1",
            measurementId: "G-0RC4Z6EDWV"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        window.logPredictionEvent = (prediction) => {
            logEvent(analytics, 'prediction_made', {
                prediction_result: prediction
            });
        };
    </script>

    <script>
        function predictMatch() {
            const hdp = document.getElementById('hdpInput').value.trim().replace(/\s/g, '');
            const total = document.getElementById('totalInput').value.trim().replace(/\s/g, '');
            const home = document.getElementById('homeTeam').value || "အိမ်ကွင်း";
            const away = document.getElementById('awayTeam').value || "အဝေးကွင်း";
            const fav = document.getElementById('favTeam').value;
            
            const favTeamName = fav === 'home' ? home : (fav === 'away' ? away : "ကြေးပေးအသင်း");

            const resultBox = document.getElementById('resultBox');
            const resultTitle = document.getElementById('resultTitle');
            const resultContent = document.getElementById('resultContent');
            const resultWarning = document.getElementById('resultWarning');

            resultBox.className = "mt-6 hidden p-5 rounded-lg border";
            resultWarning.innerText = "";
            let prediction = null;
            let warningText = "";

            const isHdpRange1_10to1_30 = (val) => ['1-10', '1-15', '1-20', '1-25', '1-30'].includes(val);
            const isHdpRange1Plus20to40 = (val) => ['1+20', '1+25', '1+30', '1+35', '1+40'].includes(val);
            const list3_3PlusRange = ['3=', '3+5', '3+10', '3+15', '3+20', '3+25', '3+30', '3+35', '3+40'];
            const listHdpF3F4 = ['=', '-10', '-15', '-20', '-25', '-30', '-35', '-40', '-80', '-85', '-90', '-95', '-100', '1+100', '1+95', '1+90', '1+85', '1+80'];

            if (isHdpRange1_10to1_30(hdp) && ['2-80', '2-90', '2-100'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးပေါ်";
            } else if (isHdpRange1Plus20to40(hdp) && ['3+20', '3+25', '3+30', '3+35', '3+40'].includes(total)) {
                prediction = `ရွေးချယ်မှု : ${favTeamName} , ဂိုးပေါ်`;
            } else if (listHdpF3F4.includes(hdp) && list3_3PlusRange.includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးပေါ်";
            } else if (listHdpF3F4.includes(hdp) && ['3-10', '3-15', '3-20', '3-25', '3-30'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးပေါ်";
                warningText = "2 သင်းပေါင်းအနည်းဆုံး 3 လုံးရောက်နိုင်ပေမယ့် 4 လုံးရောက်ဖို့ အနည်းငယ်လေး ခက်ပါလိမ့်မယ်။ Total Over 2.5 က ဒီပွဲ ပို Safe ဖြစ်ပါတယ်။";
            } else if (['1-20', '1-30', '1-40'].includes(hdp) && ['3+20', '3+30', '3+40'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးပေါ်";
            } else if (['1-80', '1-85', '1-90', '1-95', '1-100'].includes(hdp) && ['3-80', '3-85', '3-90', '3-95', '3-100'].includes(total)) {
                prediction = `ရွေးချယ်မှု : ${favTeamName} , ဂိုးပေါ်`;
            } else if (['-20', '-25', '-30'].includes(hdp) && ['2-80', '2-85', '2-90', '2-95', '2-100', '3+80', '3+85', '3+90', '3+95', '3+100'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးပေါ်";
            } else if (['=', '-5', '-10', '-15', '20', '-25', '-30', '-35', '-40'].includes(hdp) && ['2=', '2-5', '2-10', '2-15', '2-20', '2-25', '2-30', '2-35', '2-40'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးအောက်";
            } else if (['1+50', '1+55', '1+65', '1+75', '1+85', '1+60', '1+70', '1+80', '1+90'].includes(hdp) && ['2-60', '2-65', '2-70', '2-75', '2-80'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးအောက်";
            } else if (['1-70', '1-75', '1-80', '1-85', '1-90', '1-95', '1-100'].includes(hdp) && list3_3PlusRange.includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးပေါ်";
            } else if (['-40', '-45', '-50', '-55', '-60'].includes(hdp) && ['3-40', '3-45', '3-50', '3-55', '3-60'].includes(total)) {
                prediction = "ရွေးချယ်မှု : ဂိုးအောက်";
            }

            if (prediction) {
                resultBox.classList.remove('hidden');
                resultBox.classList.add('bg-black', 'border-red-600');
                resultTitle.innerText = "Match Analysis Found!";
                resultTitle.className = "font-black text-xl mb-2 text-red-500 uppercase";
                resultContent.innerText = prediction;
                resultWarning.innerText = warningText;

                if (window.logPredictionEvent) {
                    window.logPredictionEvent(prediction);
                }
            } else {
                resultBox.classList.remove('hidden');
                resultBox.classList.add('bg-black', 'border-gray-800');
                resultTitle.innerText = "No Prediction";
                resultTitle.className = "font-bold text-lg mb-2 text-gray-500 uppercase";
                resultContent.innerText = "Formula မဝင်ပါ။ ရွေးချယ်မှု မရှိပါ။";
                resultWarning.innerText = "";
            }
        }
    </script>
</body>
</html>
